---
title: Installation
description: How to install and configure MothrBox CLI for encrypted decentralized storage.
---

## Installation

MothrBox is a self-hosted CLI tool that runs locally on your machine. Get up and running in just a few minutes with Docker and Docker Compose.

## Prerequisites

Before installing MothrBox, ensure you have:

- **Docker** (v20.10 or higher)
- **Docker Compose** (v2 or higher)
- **Git** (for cloning the repository)
- **Sui Wallet** with testnet or mainnet tokens

### Install Docker

<details>
  <summary>Linux</summary>
    ```bash
    # Ubuntu/Debian
    curl -fsSL https://get.docker.com -o get-docker.sh
    sudo sh get-docker.sh
    sudo usermod -aG docker $USER
    
    # Log out and back in for group changes to take effect
    ```

  
  <summary>macOS</summary>
    ```bash
    # Using Homebrew
    brew install --cask docker
    
    # Or download Docker Desktop from:
    # https://www.docker.com/products/docker-desktop
    ```

  
  <summary>Windows</summary>
    ```bash
    # Install Docker Desktop with WSL2 backend
    # Download from: https://www.docker.com/products/docker-desktop
    
    # Enable WSL2:
    wsl --install
    wsl --set-default-version 2
    ```

</details>

### Get a Sui Wallet

You'll need a Sui wallet with tokens for storing data on Walrus Protocol:

**For Testnet (Recommended for development):**
1. Install Sui CLI: `cargo install --locked --git https://github.com/MystenLabs/sui.git sui`
2. Create wallet: `sui client new-address ed25519`
3. Get testnet tokens: [https://faucet.testnet.sui.io/](https://faucet.testnet.sui.io/)

**For Mainnet:**
- Use [Sui Wallet](https://chrome.google.com/webstore/detail/sui-wallet) browser extension
- Purchase SUI tokens from exchanges

## Installation Steps

### Step 1: Clone the Repository

```bash
git clone https://github.com/georgegoldman/mothrbox_v2
cd mothrbox_v2
```

### Step 2: Make CLI Executable

```bash
chmod +x mothrbox
```

### Step 3: Configure Your Sui Wallet

```bash
# Navigate to TypeScript client directory
cd mothrbox_ts

# Copy environment template
cp .env.example .env

# Edit configuration
nano .env
```

Add your Sui wallet credentials to `.env`:

```bash
# Required - Your Sui wallet private key
SUI_SECRET_KEY=suiprivkey1qxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Network (testnet or mainnet)
SUI_NETWORK=testnet

# Optional - Walrus endpoints (defaults provided)
WALRUS_PUBLISHER=https://publisher.walrus-testnet.walrus.space
WALRUS_AGGREGATOR=https://aggregator.walrus-testnet.walrus.space
```

> âš ï¸ **Security**: Never commit your `.env` file or share your `SUI_SECRET_KEY`. Treat it like a password.

### Step 4: Build MothrBox

```bash
# Return to project root
cd ..

# Build Docker images
./mothrbox rebuild
```

This process may take a few minutes as it:
- Builds the Rust encryption engine
- Sets up the Deno Walrus client
- Configures the Docker container

### Step 5: Start MothrBox

```bash
./mothrbox start
```

Expected output:
```
â„¹ Starting MothrBox system...
â„¹ Starting Walrus server...
â„¹ Waiting for server to be ready...
âœ… MothrBox server is running!
âœ… Server URL: http://localhost:8000
```

### Step 6: Verify Installation

```bash
# Check status
./mothrbox status

# Run tests
./mothrbox test
```

If everything is working, you should see:
```
âœ… Container: Running
âœ… Ready to encrypt/decrypt
```

## Quick Test

Let's verify all three encryption methods work:

```bash
# Create a test file
echo "MothrBox test data" > test.txt

# Test AES-256-GCM
./mothrbox encrypt test.txt "TestPass123"
# Save the blob ID, then:
./mothrbox decrypt <blob-id> aes_recovered.txt "TestPass123"

# Test ChaCha20-Poly1305
./mothrbox chacha-encrypt test.txt "TestPass123"
./mothrbox chacha-decrypt <blob-id> chacha_recovered.txt "TestPass123"

# Test ECC
./mothrbox keygen
./mothrbox ecc-encrypt test.txt data/public.key
./mothrbox ecc-decrypt <blob-id> ecc_recovered.txt data/private.key

# Verify all worked
diff test.txt data/aes_recovered.txt && echo "âœ… AES works"
diff test.txt data/chacha_recovered.txt && echo "âœ… ChaCha20 works"
diff test.txt data/ecc_recovered.txt && echo "âœ… ECC works"
```

## Directory Structure

After installation, your project structure looks like this:

```
mothrbox_v2/
â”œâ”€â”€ mothrbox              # Main CLI script
â”œâ”€â”€ data/                 # Your encrypted/decrypted files
â”œâ”€â”€ mothrbox_rs/          # Rust encryption engine
â”œâ”€â”€ mothrbox_ts/          # Deno Walrus client
â”‚   â””â”€â”€ .env             # Your configuration (keep secret!)
â”œâ”€â”€ docker-compose.yml    # Docker configuration
â””â”€â”€ Dockerfile           # Container image definition
```

## Updating MothrBox

To update to the latest version:

```bash
# Stop current instance
./mothrbox stop

# Pull latest changes
git pull origin main

# Rebuild
./mothrbox rebuild

# Restart
./mothrbox start
```

## Troubleshooting

### Issue: Docker Not Found

```bash
# Verify Docker is installed
docker --version
docker compose version

# If not installed, see Prerequisites section above
```

### Issue: Permission Denied

```bash
# Make script executable
chmod +x mothrbox

# Fix data directory permissions
sudo chown -R $USER:$USER data/
chmod -R 755 data/
```

### Issue: Container Won't Start

```bash
# Check Docker logs
./mothrbox logs

# Common fixes:
# 1. Check if port 8000 is already in use
sudo lsof -i :8000

# 2. Restart Docker service
sudo systemctl restart docker  # Linux
# or restart Docker Desktop on macOS/Windows

# 3. Clean rebuild
./mothrbox clean
./mothrbox rebuild
./mothrbox start
```

### Issue: Missing SUI_SECRET_KEY

```bash
# Check your .env file
cat mothrbox_ts/.env

# Should contain:
# SUI_SECRET_KEY=suiprivkey1...
# SUI_NETWORK=testnet

# If missing, reconfigure:
cd mothrbox_ts
cp .env.example .env
nano .env
```

### Issue: Upload Fails (Insufficient SUI)

```bash
# For testnet, get free tokens:
# Visit: https://faucet.testnet.sui.io/
# Enter your wallet address

# Check your balance
sui client balance

# For mainnet, purchase SUI tokens from exchanges
```

### Issue: Build Fails

```bash
# Clean everything and rebuild
./mothrbox clean
docker system prune -a  # Remove all unused Docker data
./mothrbox rebuild

# If still failing, check:
# 1. Docker has enough disk space (5GB+ recommended)
# 2. Internet connection is stable
# 3. Docker daemon is running
```

## Uninstallation

To completely remove MothrBox:

```bash
# Stop and remove containers
./mothrbox stop

# Remove all data and images
./mothrbox clean

# Remove repository
cd ..
rm -rf mothrbox_v2

# (Optional) Remove Docker images
docker rmi mothrbox_v2-mothrbox
```

## System Requirements

### Minimum Requirements
- **OS**: Linux, macOS, Windows (with WSL2)
- **CPU**: 2 cores
- **RAM**: 2GB
- **Disk**: 5GB free space
- **Network**: Stable internet connection

### Recommended Requirements
- **CPU**: 4+ cores
- **RAM**: 4GB+
- **Disk**: 10GB+ free space
- **Network**: High-speed connection for large file uploads

## Network Configuration

MothrBox connects to:
- **Walrus Protocol** (testnet/mainnet) - Decentralized storage
- **Sui Blockchain** (testnet/mainnet) - Storage proofs and metadata

Ensure your firewall allows outbound connections to:
- `publisher.walrus-testnet.walrus.space` (or mainnet equivalent)
- `aggregator.walrus-testnet.walrus.space` (or mainnet equivalent)
- `fullnode.testnet.sui.io` (or mainnet equivalent)

## Next Steps

Now that MothrBox is installed:

1. ðŸ“– **Read the [CLI Reference](/docs/cli)** - Learn all available commands
2. ðŸ” **Review [Security Best Practices](/docs/security)** - Protect your data properly
3. ðŸš€ **Try [Advanced Usage](/docs/advanced)** - Batch operations, automation
4. ðŸ—ï¸ **Understand the [Architecture](/docs/architecture)** - How it all works

## Getting Help

If you encounter issues not covered here:

- ðŸ™ **GitHub Issues**: [Report a bug](https://github.com/georgegoldman/mothrbox_v2/issues)
- ðŸ“– **Documentation**: Check other docs pages
- ðŸ’¬ **Community**: Join our Discord (coming soon)

## Environment Variables Reference

Complete `.env` configuration options:

```bash
# Required
SUI_SECRET_KEY=suiprivkey1...           # Your Sui wallet private key
SUI_NETWORK=testnet                     # Network: testnet or mainnet

# Optional - Walrus Endpoints
WALRUS_PUBLISHER=https://publisher.walrus-testnet.walrus.space
WALRUS_AGGREGATOR=https://aggregator.walrus-testnet.walrus.space

# Optional - Storage Configuration
WALRUS_EPOCHS=3                         # Storage duration (epochs)

# Optional - Advanced
LOG_LEVEL=info                          # Log verbosity: debug, info, warn, error
```

---

> ðŸ’¡ **Pro Tip**: After installation, bookmark the [Quick Reference](/docs/quick-reference) for fast command lookups.

**You're all set!** MothrBox is now ready to encrypt and store your data securely. ðŸ¦‹ðŸ”’